{"abi": [{"inputs": [{"internalType": "uint256", "name": "_feePercent", "type": "uint256"}], "stateMutability": "nonpayable", "type": "constructor", "name": "constructor"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "itemId", "type": "uint256"}, {"indexed": true, "internalType": "address", "name": "nft", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256"}, {"indexed": true, "internalType": "address", "name": "seller", "type": "address"}, {"indexed": true, "internalType": "address", "name": "owner", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "price", "type": "uint256"}], "name": "MarketItemCreated", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "itemId", "type": "uint256"}, {"indexed": true, "internalType": "address", "name": "nft", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256"}, {"indexed": true, "internalType": "address", "name": "seller", "type": "address"}, {"indexed": true, "internalType": "address", "name": "owner", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "price", "type": "uint256"}], "name": "MarketItemPurchased", "type": "event"}, {"inputs": [{"internalType": "contract IERC721", "name": "_nft", "type": "address"}, {"internalType": "uint256", "name": "_tokenId", "type": "uint256"}, {"internalType": "uint256", "name": "_price", "type": "uint256"}], "name": "createItem", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "feeAccount", "outputs": [{"internalType": "address payable", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "feePercent", "outputs": [{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "_itemId", "type": "uint256"}], "name": "getTotalPrice", "outputs": [{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "itemCount", "outputs": [{"internalType": "uint256", "name": "_value", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "", "type": "uint256"}], "name": "marketplaceItems", "outputs": [{"internalType": "uint256", "name": "itemId", "type": "uint256"}, {"internalType": "contract IERC721", "name": "nft", "type": "address"}, {"internalType": "uint256", "name": "tokenId", "type": "uint256"}, {"internalType": "uint256", "name": "price", "type": "uint256"}, {"internalType": "address payable", "name": "seller", "type": "address"}, {"internalType": "address payable", "name": "owner", "type": "address"}, {"internalType": "bool", "name": "sold", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "_itemId", "type": "uint256"}], "name": "purchaseItem", "outputs": [], "stateMutability": "payable", "type": "function"}], "allSourcePaths": {"0": "C:/Users/parte/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.4.1/contracts/security/ReentrancyGuard.sol", "11": "C:/Users/parte/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.4.1/contracts/utils/introspection/IERC165.sol", "12": "contracts/Marketplace.sol", "2": "C:/Users/parte/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.4.1/contracts/token/ERC721/IERC721.sol", "8": "C:/Users/parte/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.4.1/contracts/utils/Counters.sol"}, "ast": {"absolutePath": "contracts/Marketplace.sol", "exportedSymbols": {"Counters": [597], "IERC165": [737], "IERC721": [523], "Marketplace": [312], "ReentrancyGuard": [407]}, "id": 313, "license": "MIT", "nodeType": "SourceUnit", "nodes": [{"id": 1, "literals": ["solidity", "^", "0.8", ".7"], "nodeType": "PragmaDirective", "src": "32:23:12"}, {"absolutePath": "C:/Users/parte/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.4.1/contracts/token/ERC721/IERC721.sol", "file": "@openzeppelin/contracts/token/ERC721/IERC721.sol", "id": 2, "nameLocation": "-1:-1:-1", "nodeType": "ImportDirective", "scope": 313, "sourceUnit": 524, "src": "57:58:12", "symbolAliases": [], "unitAlias": ""}, {"absolutePath": "C:/Users/parte/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.4.1/contracts/security/ReentrancyGuard.sol", "file": "@openzeppelin/contracts/security/ReentrancyGuard.sol", "id": 3, "nameLocation": "-1:-1:-1", "nodeType": "ImportDirective", "scope": 313, "sourceUnit": 408, "src": "116:62:12", "symbolAliases": [], "unitAlias": ""}, {"absolutePath": "C:/Users/parte/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.4.1/contracts/utils/Counters.sol", "file": "@openzeppelin/contracts/utils/Counters.sol", "id": 4, "nameLocation": "-1:-1:-1", "nodeType": "ImportDirective", "scope": 313, "sourceUnit": 598, "src": "179:52:12", "symbolAliases": [], "unitAlias": ""}, {"abstract": false, "baseContracts": [{"baseName": {"id": 5, "name": "ReentrancyGuard", "nodeType": "IdentifierPath", "referencedDeclaration": 407, "src": "257:15:12"}, "id": 6, "nodeType": "InheritanceSpecifier", "src": "257:15:12"}], "contractDependencies": [], "contractKind": "contract", "fullyImplemented": true, "id": 312, "linearizedBaseContracts": [312, 407], "name": "Marketplace", "nameLocation": "242:11:12", "nodeType": "ContractDefinition", "nodes": [{"id": 10, "libraryName": {"id": 7, "name": "Counters", "nodeType": "IdentifierPath", "referencedDeclaration": 597, "src": "285:8:12"}, "nodeType": "UsingForDirective", "src": "279:36:12", "typeName": {"id": 9, "nodeType": "UserDefinedTypeName", "pathNode": {"id": 8, "name": "Counters.Counter", "nodeType": "IdentifierPath", "referencedDeclaration": 529, "src": "298:16:12"}, "referencedDeclaration": 529, "src": "298:16:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Counter_$529_storage_ptr", "typeString": "struct Counters.Counter"}}}, {"constant": false, "functionSelector": "65e17c9d", "id": 12, "mutability": "immutable", "name": "feeAccount", "nameLocation": "354:10:12", "nodeType": "VariableDeclaration", "scope": 312, "src": "321:43:12", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}, "typeName": {"id": 11, "name": "address", "nodeType": "ElementaryTypeName", "src": "321:15:12", "stateMutability": "payable", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, "visibility": "public"}, {"constant": false, "functionSelector": "7fd6f15c", "id": 14, "mutability": "immutable", "name": "feePercent", "nameLocation": "429:10:12", "nodeType": "VariableDeclaration", "scope": 312, "src": "404:35:12", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 13, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "404:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "public"}, {"constant": false, "functionSelector": "6bfb0d01", "id": 17, "mutability": "mutable", "name": "itemCount", "nameLocation": "496:9:12", "nodeType": "VariableDeclaration", "scope": 312, "src": "472:33:12", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_struct$_Counter_$529_storage", "typeString": "struct Counters.Counter"}, "typeName": {"id": 16, "nodeType": "UserDefinedTypeName", "pathNode": {"id": 15, "name": "Counters.Counter", "nodeType": "IdentifierPath", "referencedDeclaration": 529, "src": "472:16:12"}, "referencedDeclaration": 529, "src": "472:16:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Counter_$529_storage_ptr", "typeString": "struct Counters.Counter"}}, "visibility": "public"}, {"canonicalName": "Marketplace.Item", "id": 33, "members": [{"constant": false, "id": 19, "mutability": "mutable", "name": "itemId", "nameLocation": "542:6:12", "nodeType": "VariableDeclaration", "scope": 33, "src": "534:14:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 18, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "534:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 22, "mutability": "mutable", "name": "nft", "nameLocation": "566:3:12", "nodeType": "VariableDeclaration", "scope": 33, "src": "558:11:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}, "typeName": {"id": 21, "nodeType": "UserDefinedTypeName", "pathNode": {"id": 20, "name": "IERC721", "nodeType": "IdentifierPath", "referencedDeclaration": 523, "src": "558:7:12"}, "referencedDeclaration": 523, "src": "558:7:12", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}}, "visibility": "internal"}, {"constant": false, "id": 24, "mutability": "mutable", "name": "tokenId", "nameLocation": "587:7:12", "nodeType": "VariableDeclaration", "scope": 33, "src": "579:15:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 23, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "579:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 26, "mutability": "mutable", "name": "price", "nameLocation": "612:5:12", "nodeType": "VariableDeclaration", "scope": 33, "src": "604:13:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 25, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "604:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 28, "mutability": "mutable", "name": "seller", "nameLocation": "643:6:12", "nodeType": "VariableDeclaration", "scope": 33, "src": "627:22:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}, "typeName": {"id": 27, "name": "address", "nodeType": "ElementaryTypeName", "src": "627:15:12", "stateMutability": "payable", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, "visibility": "internal"}, {"constant": false, "id": 30, "mutability": "mutable", "name": "owner", "nameLocation": "675:5:12", "nodeType": "VariableDeclaration", "scope": 33, "src": "659:21:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}, "typeName": {"id": 29, "name": "address", "nodeType": "ElementaryTypeName", "src": "659:15:12", "stateMutability": "payable", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, "visibility": "internal"}, {"constant": false, "id": 32, "mutability": "mutable", "name": "sold", "nameLocation": "695:4:12", "nodeType": "VariableDeclaration", "scope": 33, "src": "690:9:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}, "typeName": {"id": 31, "name": "bool", "nodeType": "ElementaryTypeName", "src": "690:4:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "visibility": "internal"}], "name": "Item", "nameLocation": "519:4:12", "nodeType": "StructDefinition", "scope": 312, "src": "512:194:12", "visibility": "public"}, {"anonymous": false, "id": 47, "name": "MarketItemCreated", "nameLocation": "718:17:12", "nodeType": "EventDefinition", "parameters": {"id": 46, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 35, "indexed": false, "mutability": "mutable", "name": "itemId", "nameLocation": "753:6:12", "nodeType": "VariableDeclaration", "scope": 47, "src": "745:14:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 34, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "745:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 37, "indexed": true, "mutability": "mutable", "name": "nft", "nameLocation": "785:3:12", "nodeType": "VariableDeclaration", "scope": 47, "src": "769:19:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 36, "name": "address", "nodeType": "ElementaryTypeName", "src": "769:7:12", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 39, "indexed": false, "mutability": "mutable", "name": "tokenId", "nameLocation": "806:7:12", "nodeType": "VariableDeclaration", "scope": 47, "src": "798:15:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 38, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "798:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 41, "indexed": true, "mutability": "mutable", "name": "seller", "nameLocation": "839:6:12", "nodeType": "VariableDeclaration", "scope": 47, "src": "823:22:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 40, "name": "address", "nodeType": "ElementaryTypeName", "src": "823:7:12", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 43, "indexed": true, "mutability": "mutable", "name": "owner", "nameLocation": "871:5:12", "nodeType": "VariableDeclaration", "scope": 47, "src": "855:21:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 42, "name": "address", "nodeType": "ElementaryTypeName", "src": "855:7:12", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 45, "indexed": false, "mutability": "mutable", "name": "price", "nameLocation": "894:5:12", "nodeType": "VariableDeclaration", "scope": 47, "src": "886:13:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 44, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "886:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "735:170:12"}, "src": "712:194:12"}, {"anonymous": false, "id": 61, "name": "MarketItemPurchased", "nameLocation": "918:19:12", "nodeType": "EventDefinition", "parameters": {"id": 60, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 49, "indexed": false, "mutability": "mutable", "name": "itemId", "nameLocation": "955:6:12", "nodeType": "VariableDeclaration", "scope": 61, "src": "947:14:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 48, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "947:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 51, "indexed": true, "mutability": "mutable", "name": "nft", "nameLocation": "987:3:12", "nodeType": "VariableDeclaration", "scope": 61, "src": "971:19:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 50, "name": "address", "nodeType": "ElementaryTypeName", "src": "971:7:12", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 53, "indexed": false, "mutability": "mutable", "name": "tokenId", "nameLocation": "1008:7:12", "nodeType": "VariableDeclaration", "scope": 61, "src": "1000:15:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 52, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1000:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 55, "indexed": true, "mutability": "mutable", "name": "seller", "nameLocation": "1041:6:12", "nodeType": "VariableDeclaration", "scope": 61, "src": "1025:22:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 54, "name": "address", "nodeType": "ElementaryTypeName", "src": "1025:7:12", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 57, "indexed": true, "mutability": "mutable", "name": "owner", "nameLocation": "1073:5:12", "nodeType": "VariableDeclaration", "scope": 61, "src": "1057:21:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 56, "name": "address", "nodeType": "ElementaryTypeName", "src": "1057:7:12", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 59, "indexed": false, "mutability": "mutable", "name": "price", "nameLocation": "1096:5:12", "nodeType": "VariableDeclaration", "scope": 61, "src": "1088:13:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 58, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1088:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "937:170:12"}, "src": "912:196:12"}, {"constant": false, "functionSelector": "18b616bb", "id": 66, "mutability": "mutable", "name": "marketplaceItems", "nameLocation": "1198:16:12", "nodeType": "VariableDeclaration", "scope": 312, "src": "1166:48:12", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Item_$33_storage_$", "typeString": "mapping(uint256 => struct Marketplace.Item)"}, "typeName": {"id": 65, "keyType": {"id": 62, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1174:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "Mapping", "src": "1166:24:12", "typeDescriptions": {"typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Item_$33_storage_$", "typeString": "mapping(uint256 => struct Marketplace.Item)"}, "valueType": {"id": 64, "nodeType": "UserDefinedTypeName", "pathNode": {"id": 63, "name": "Item", "nodeType": "IdentifierPath", "referencedDeclaration": 33, "src": "1185:4:12"}, "referencedDeclaration": 33, "src": "1185:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item"}}}, "visibility": "public"}, {"body": {"id": 83, "nodeType": "Block", "src": "1254:83:12", "statements": [{"expression": {"id": 77, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": {"id": 71, "name": "feeAccount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 12, "src": "1264:10:12", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, "nodeType": "Assignment", "operator": "=", "rightHandSide": {"arguments": [{"expression": {"id": 74, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -15, "src": "1285:3:12", "typeDescriptions": {"typeIdentifier": "t_magic_message", "typeString": "msg"}}, "id": 75, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "src": "1285:10:12", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 73, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "1277:8:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_payable_$", "typeString": "type(address payable)"}, "typeName": {"id": 72, "name": "address", "nodeType": "ElementaryTypeName", "src": "1277:8:12", "stateMutability": "payable", "typeDescriptions": {}}}, "id": 76, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1277:19:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, "src": "1264:32:12", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, "id": 78, "nodeType": "ExpressionStatement", "src": "1264:32:12"}, {"expression": {"id": 81, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": {"id": 79, "name": "feePercent", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 14, "src": "1306:10:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "Assignment", "operator": "=", "rightHandSide": {"id": 80, "name": "_feePercent", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 68, "src": "1319:11:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "1306:24:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "id": 82, "nodeType": "ExpressionStatement", "src": "1306:24:12"}]}, "id": 84, "implemented": true, "kind": "constructor", "modifiers": [], "name": "", "nameLocation": "-1:-1:-1", "nodeType": "FunctionDefinition", "parameters": {"id": 69, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 68, "mutability": "mutable", "name": "_feePercent", "nameLocation": "1241:11:12", "nodeType": "VariableDeclaration", "scope": 84, "src": "1233:19:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 67, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1233:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "1232:21:12"}, "returnParameters": {"id": 70, "nodeType": "ParameterList", "parameters": [], "src": "1254:0:12"}, "scope": 312, "src": "1221:116:12", "stateMutability": "nonpayable", "virtual": false, "visibility": "public"}, {"body": {"id": 170, "nodeType": "Block", "src": "1528:808:12", "statements": [{"expression": {"arguments": [{"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 100, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 98, "name": "_price", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 92, "src": "1546:6:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": ">", "rightExpression": {"hexValue": "30", "id": 99, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "1555:1:12", "typeDescriptions": {"typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0"}, "value": "0"}, "src": "1546:10:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, {"hexValue": "4552524f523a205072696365206d7573742062652067726561746572207468616e20302e", "id": 101, "isConstant": false, "isLValue": false, "isPure": true, "kind": "string", "lValueRequested": false, "nodeType": "Literal", "src": "1558:38:12", "typeDescriptions": {"typeIdentifier": "t_stringliteral_a1a9a4ce0c6e1919ca27f89d3c5fd31c192b60372abab4823b5bb2f1851a26a0", "typeString": "literal_string \"ERROR: Price must be greater than 0.\""}, "value": "ERROR: Price must be greater than 0."}], "expression": {"argumentTypes": [{"typeIdentifier": "t_bool", "typeString": "bool"}, {"typeIdentifier": "t_stringliteral_a1a9a4ce0c6e1919ca27f89d3c5fd31c192b60372abab4823b5bb2f1851a26a0", "typeString": "literal_string \"ERROR: Price must be greater than 0.\""}], "id": 97, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [-18, -18], "referencedDeclaration": -18, "src": "1538:7:12", "typeDescriptions": {"typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$", "typeString": "function (bool,string memory) pure"}}, "id": 102, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1538:59:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 103, "nodeType": "ExpressionStatement", "src": "1538:59:12"}, {"expression": {"arguments": [], "expression": {"argumentTypes": [], "expression": {"id": 104, "name": "itemCount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 17, "src": "1608:9:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Counter_$529_storage", "typeString": "struct Counters.Counter storage ref"}}, "id": 106, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "increment", "nodeType": "MemberAccess", "referencedDeclaration": 555, "src": "1608:19:12", "typeDescriptions": {"typeIdentifier": "t_function_internal_nonpayable$_t_struct$_Counter_$529_storage_ptr_$returns$__$bound_to$_t_struct$_Counter_$529_storage_ptr_$", "typeString": "function (struct Counters.Counter storage pointer)"}}, "id": 107, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1608:21:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 108, "nodeType": "ExpressionStatement", "src": "1608:21:12"}, {"assignments": [110], "declarations": [{"constant": false, "id": 110, "mutability": "mutable", "name": "currentItemCount", "nameLocation": "1647:16:12", "nodeType": "VariableDeclaration", "scope": 170, "src": "1639:24:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 109, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1639:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "id": 114, "initialValue": {"arguments": [], "expression": {"argumentTypes": [], "expression": {"id": 111, "name": "itemCount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 17, "src": "1666:9:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Counter_$529_storage", "typeString": "struct Counters.Counter storage ref"}}, "id": 112, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "current", "nodeType": "MemberAccess", "referencedDeclaration": 541, "src": "1666:17:12", "typeDescriptions": {"typeIdentifier": "t_function_internal_view$_t_struct$_Counter_$529_storage_ptr_$returns$_t_uint256_$bound_to$_t_struct$_Counter_$529_storage_ptr_$", "typeString": "function (struct Counters.Counter storage pointer) view returns (uint256)"}}, "id": 113, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1666:19:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "VariableDeclarationStatement", "src": "1639:46:12"}, {"expression": {"arguments": [{"expression": {"id": 118, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -15, "src": "1780:3:12", "typeDescriptions": {"typeIdentifier": "t_magic_message", "typeString": "msg"}}, "id": 119, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "src": "1780:10:12", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"arguments": [{"id": 122, "name": "this", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -28, "src": "1800:4:12", "typeDescriptions": {"typeIdentifier": "t_contract$_Marketplace_$312", "typeString": "contract Marketplace"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_contract$_Marketplace_$312", "typeString": "contract Marketplace"}], "id": 121, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "1792:7:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 120, "name": "address", "nodeType": "ElementaryTypeName", "src": "1792:7:12", "typeDescriptions": {}}}, "id": 123, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1792:13:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"id": 124, "name": "_tokenId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 90, "src": "1807:8:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}], "expression": {"id": 115, "name": "_nft", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 88, "src": "1762:4:12", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}}, "id": 117, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transferFrom", "nodeType": "MemberAccess", "referencedDeclaration": 476, "src": "1762:17:12", "typeDescriptions": {"typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$", "typeString": "function (address,address,uint256) external"}}, "id": 125, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1762:54:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 126, "nodeType": "ExpressionStatement", "src": "1762:54:12"}, {"expression": {"id": 149, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": {"baseExpression": {"id": 127, "name": "marketplaceItems", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 66, "src": "1877:16:12", "typeDescriptions": {"typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Item_$33_storage_$", "typeString": "mapping(uint256 => struct Marketplace.Item storage ref)"}}, "id": 129, "indexExpression": {"id": 128, "name": "currentItemCount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 110, "src": "1894:16:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "nodeType": "IndexAccess", "src": "1877:34:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage", "typeString": "struct Marketplace.Item storage ref"}}, "nodeType": "Assignment", "operator": "=", "rightHandSide": {"arguments": [{"id": 131, "name": "currentItemCount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 110, "src": "1932:16:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, {"id": 132, "name": "_nft", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 88, "src": "1962:4:12", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}}, {"id": 133, "name": "_tokenId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 90, "src": "1980:8:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, {"id": 134, "name": "_price", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 92, "src": "2002:6:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, {"arguments": [{"expression": {"id": 137, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -15, "src": "2030:3:12", "typeDescriptions": {"typeIdentifier": "t_magic_message", "typeString": "msg"}}, "id": 138, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "src": "2030:10:12", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 136, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2022:8:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_payable_$", "typeString": "type(address payable)"}, "typeName": {"id": 135, "name": "address", "nodeType": "ElementaryTypeName", "src": "2022:8:12", "stateMutability": "payable", "typeDescriptions": {}}}, "id": 139, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2022:19:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, {"arguments": [{"arguments": [{"id": 144, "name": "this", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -28, "src": "2071:4:12", "typeDescriptions": {"typeIdentifier": "t_contract$_Marketplace_$312", "typeString": "contract Marketplace"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_contract$_Marketplace_$312", "typeString": "contract Marketplace"}], "id": 143, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2063:7:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 142, "name": "address", "nodeType": "ElementaryTypeName", "src": "2063:7:12", "typeDescriptions": {}}}, "id": 145, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2063:13:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 141, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2055:8:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_payable_$", "typeString": "type(address payable)"}, "typeName": {"id": 140, "name": "address", "nodeType": "ElementaryTypeName", "src": "2055:8:12", "stateMutability": "payable", "typeDescriptions": {}}}, "id": 146, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2055:22:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, {"hexValue": "66616c7365", "id": 147, "isConstant": false, "isLValue": false, "isPure": true, "kind": "bool", "lValueRequested": false, "nodeType": "Literal", "src": "2091:5:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}, "value": "false"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_uint256", "typeString": "uint256"}, {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}, {"typeIdentifier": "t_address_payable", "typeString": "address payable"}, {"typeIdentifier": "t_address_payable", "typeString": "address payable"}, {"typeIdentifier": "t_bool", "typeString": "bool"}], "id": 130, "name": "Item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 33, "src": "1914:4:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_struct$_Item_$33_storage_ptr_$", "typeString": "type(struct Marketplace.Item storage pointer)"}}, "id": 148, "isConstant": false, "isLValue": false, "isPure": false, "kind": "structConstructorCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1914:192:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_memory_ptr", "typeString": "struct Marketplace.Item memory"}}, "src": "1877:229:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage", "typeString": "struct Marketplace.Item storage ref"}}, "id": 150, "nodeType": "ExpressionStatement", "src": "1877:229:12"}, {"eventCall": {"arguments": [{"id": 152, "name": "currentItemCount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 110, "src": "2174:16:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, {"arguments": [{"id": 155, "name": "_nft", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 88, "src": "2212:4:12", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}], "id": 154, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2204:7:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 153, "name": "address", "nodeType": "ElementaryTypeName", "src": "2204:7:12", "typeDescriptions": {}}}, "id": 156, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2204:13:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"id": 157, "name": "_tokenId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 90, "src": "2231:8:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, {"arguments": [{"expression": {"id": 160, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -15, "src": "2261:3:12", "typeDescriptions": {"typeIdentifier": "t_magic_message", "typeString": "msg"}}, "id": 161, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "src": "2261:10:12", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 159, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2253:8:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_payable_$", "typeString": "type(address payable)"}, "typeName": {"id": 158, "name": "address", "nodeType": "ElementaryTypeName", "src": "2253:8:12", "stateMutability": "payable", "typeDescriptions": {}}}, "id": 162, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2253:19:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, {"arguments": [{"id": 165, "name": "this", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -28, "src": "2294:4:12", "typeDescriptions": {"typeIdentifier": "t_contract$_Marketplace_$312", "typeString": "contract Marketplace"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_contract$_Marketplace_$312", "typeString": "contract Marketplace"}], "id": 164, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2286:7:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 163, "name": "address", "nodeType": "ElementaryTypeName", "src": "2286:7:12", "typeDescriptions": {}}}, "id": 166, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2286:13:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"id": 167, "name": "_price", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 92, "src": "2313:6:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_uint256", "typeString": "uint256"}, {"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}, {"typeIdentifier": "t_address_payable", "typeString": "address payable"}, {"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}], "id": 151, "name": "MarketItemCreated", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 47, "src": "2143:17:12", "typeDescriptions": {"typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$_t_address_$_t_address_$_t_uint256_$returns$__$", "typeString": "function (uint256,address,uint256,address,address,uint256)"}}, "id": 168, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2143:186:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 169, "nodeType": "EmitStatement", "src": "2138:191:12"}]}, "documentation": {"id": 85, "nodeType": "StructuredDocumentation", "src": "1343:60:12", "text": " @notice Create an item on the marketplace"}, "functionSelector": "57baf0fb", "id": 171, "implemented": true, "kind": "function", "modifiers": [{"id": 95, "kind": "modifierInvocation", "modifierName": {"id": 94, "name": "nonReentrant", "nodeType": "IdentifierPath", "referencedDeclaration": 406, "src": "1515:12:12"}, "nodeType": "ModifierInvocation", "src": "1515:12:12"}], "name": "createItem", "nameLocation": "1417:10:12", "nodeType": "FunctionDefinition", "parameters": {"id": 93, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 88, "mutability": "mutable", "name": "_nft", "nameLocation": "1445:4:12", "nodeType": "VariableDeclaration", "scope": 171, "src": "1437:12:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}, "typeName": {"id": 87, "nodeType": "UserDefinedTypeName", "pathNode": {"id": 86, "name": "IERC721", "nodeType": "IdentifierPath", "referencedDeclaration": 523, "src": "1437:7:12"}, "referencedDeclaration": 523, "src": "1437:7:12", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}}, "visibility": "internal"}, {"constant": false, "id": 90, "mutability": "mutable", "name": "_tokenId", "nameLocation": "1467:8:12", "nodeType": "VariableDeclaration", "scope": 171, "src": "1459:16:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 89, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1459:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 92, "mutability": "mutable", "name": "_price", "nameLocation": "1493:6:12", "nodeType": "VariableDeclaration", "scope": 171, "src": "1485:14:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 91, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1485:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "1427:78:12"}, "returnParameters": {"id": 96, "nodeType": "ParameterList", "parameters": [], "src": "1528:0:12"}, "scope": 312, "src": "1408:928:12", "stateMutability": "nonpayable", "virtual": false, "visibility": "external"}, {"body": {"id": 276, "nodeType": "Block", "src": "2552:978:12", "statements": [{"assignments": [180], "declarations": [{"constant": false, "id": 180, "mutability": "mutable", "name": "_totalPrice", "nameLocation": "2570:11:12", "nodeType": "VariableDeclaration", "scope": 276, "src": "2562:19:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 179, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "2562:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "id": 184, "initialValue": {"arguments": [{"id": 182, "name": "_itemId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 174, "src": "2598:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_uint256", "typeString": "uint256"}], "id": 181, "name": "getTotalPrice", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 299, "src": "2584:13:12", "typeDescriptions": {"typeIdentifier": "t_function_internal_view$_t_uint256_$returns$_t_uint256_$", "typeString": "function (uint256) view returns (uint256)"}}, "id": 183, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2584:22:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "VariableDeclarationStatement", "src": "2562:44:12"}, {"assignments": [187], "declarations": [{"constant": false, "id": 187, "mutability": "mutable", "name": "item", "nameLocation": "2629:4:12", "nodeType": "VariableDeclaration", "scope": 276, "src": "2616:17:12", "stateVariable": false, "storageLocation": "storage", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item"}, "typeName": {"id": 186, "nodeType": "UserDefinedTypeName", "pathNode": {"id": 185, "name": "Item", "nodeType": "IdentifierPath", "referencedDeclaration": 33, "src": "2616:4:12"}, "referencedDeclaration": 33, "src": "2616:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item"}}, "visibility": "internal"}], "id": 191, "initialValue": {"baseExpression": {"id": 188, "name": "marketplaceItems", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 66, "src": "2636:16:12", "typeDescriptions": {"typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Item_$33_storage_$", "typeString": "mapping(uint256 => struct Marketplace.Item storage ref)"}}, "id": 190, "indexExpression": {"id": 189, "name": "_itemId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 174, "src": "2653:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "2636:25:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage", "typeString": "struct Marketplace.Item storage ref"}}, "nodeType": "VariableDeclarationStatement", "src": "2616:45:12"}, {"expression": {"arguments": [{"commonType": {"typeIdentifier": "t_bool", "typeString": "bool"}, "id": 201, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 195, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 193, "name": "_itemId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 174, "src": "2722:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": ">", "rightExpression": {"hexValue": "30", "id": 194, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2732:1:12", "typeDescriptions": {"typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0"}, "value": "0"}, "src": "2722:11:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "nodeType": "BinaryOperation", "operator": "&&", "rightExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 200, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 196, "name": "_itemId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 174, "src": "2737:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": "<=", "rightExpression": {"arguments": [], "expression": {"argumentTypes": [], "expression": {"id": 197, "name": "itemCount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 17, "src": "2748:9:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Counter_$529_storage", "typeString": "struct Counters.Counter storage ref"}}, "id": 198, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "current", "nodeType": "MemberAccess", "referencedDeclaration": 541, "src": "2748:17:12", "typeDescriptions": {"typeIdentifier": "t_function_internal_view$_t_struct$_Counter_$529_storage_ptr_$returns$_t_uint256_$bound_to$_t_struct$_Counter_$529_storage_ptr_$", "typeString": "function (struct Counters.Counter storage pointer) view returns (uint256)"}}, "id": 199, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2748:19:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2737:30:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "src": "2722:45:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, {"hexValue": "4552524f523a204974656d20646f6573206e6f742065786973742e", "id": 202, "isConstant": false, "isLValue": false, "isPure": true, "kind": "string", "lValueRequested": false, "nodeType": "Literal", "src": "2781:29:12", "typeDescriptions": {"typeIdentifier": "t_stringliteral_58a1d67e067b3f4b57a5c3932ed3676370db18866216c1c4500735fd7fb2f2d7", "typeString": "literal_string \"ERROR: Item does not exist.\""}, "value": "ERROR: Item does not exist."}], "expression": {"argumentTypes": [{"typeIdentifier": "t_bool", "typeString": "bool"}, {"typeIdentifier": "t_stringliteral_58a1d67e067b3f4b57a5c3932ed3676370db18866216c1c4500735fd7fb2f2d7", "typeString": "literal_string \"ERROR: Item does not exist.\""}], "id": 192, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [-18, -18], "referencedDeclaration": -18, "src": "2701:7:12", "typeDescriptions": {"typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$", "typeString": "function (bool,string memory) pure"}}, "id": 203, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2701:119:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 204, "nodeType": "ExpressionStatement", "src": "2701:119:12"}, {"expression": {"arguments": [{"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 209, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"expression": {"id": 206, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -15, "src": "2851:3:12", "typeDescriptions": {"typeIdentifier": "t_magic_message", "typeString": "msg"}}, "id": 207, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "value", "nodeType": "MemberAccess", "src": "2851:9:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": "==", "rightExpression": {"id": 208, "name": "_totalPrice", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 180, "src": "2864:11:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2851:24:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, {"hexValue": "4552524f523a204e6f7420656e6f75676820657468657220746f20636f76657220746865206974656d2070726963652026206d61726b6574206665652e", "id": 210, "isConstant": false, "isLValue": false, "isPure": true, "kind": "string", "lValueRequested": false, "nodeType": "Literal", "src": "2889:63:12", "typeDescriptions": {"typeIdentifier": "t_stringliteral_514603884bb0cc2e561d8903c7728fc06f30eddfc7355e3ef7c3011c023827f3", "typeString": "literal_string \"ERROR: Not enough ether to cover the item price & market fee.\""}, "value": "ERROR: Not enough ether to cover the item price & market fee."}], "expression": {"argumentTypes": [{"typeIdentifier": "t_bool", "typeString": "bool"}, {"typeIdentifier": "t_stringliteral_514603884bb0cc2e561d8903c7728fc06f30eddfc7355e3ef7c3011c023827f3", "typeString": "literal_string \"ERROR: Not enough ether to cover the item price & market fee.\""}], "id": 205, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [-18, -18], "referencedDeclaration": -18, "src": "2830:7:12", "typeDescriptions": {"typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$", "typeString": "function (bool,string memory) pure"}}, "id": 211, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2830:132:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 212, "nodeType": "ExpressionStatement", "src": "2830:132:12"}, {"expression": {"arguments": [{"id": 216, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "UnaryOperation", "operator": "!", "prefix": true, "src": "2980:10:12", "subExpression": {"expression": {"id": 214, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "2981:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 215, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "sold", "nodeType": "MemberAccess", "referencedDeclaration": 32, "src": "2981:9:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, {"hexValue": "4552524f523a20466f6c6c6f77696e67206974656d20697320616c726561647920736f6c642e", "id": 217, "isConstant": false, "isLValue": false, "isPure": true, "kind": "string", "lValueRequested": false, "nodeType": "Literal", "src": "2992:40:12", "typeDescriptions": {"typeIdentifier": "t_stringliteral_c066fdcc90e019b7e27dc7292ffaf10fbf0e1f73123a1c3e97a348c93f5bc9f2", "typeString": "literal_string \"ERROR: Following item is already sold.\""}, "value": "ERROR: Following item is already sold."}], "expression": {"argumentTypes": [{"typeIdentifier": "t_bool", "typeString": "bool"}, {"typeIdentifier": "t_stringliteral_c066fdcc90e019b7e27dc7292ffaf10fbf0e1f73123a1c3e97a348c93f5bc9f2", "typeString": "literal_string \"ERROR: Following item is already sold.\""}], "id": 213, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [-18, -18], "referencedDeclaration": -18, "src": "2972:7:12", "typeDescriptions": {"typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$", "typeString": "function (bool,string memory) pure"}}, "id": 218, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2972:61:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 219, "nodeType": "ExpressionStatement", "src": "2972:61:12"}, {"expression": {"arguments": [{"expression": {"id": 225, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3101:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 226, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "price", "nodeType": "MemberAccess", "referencedDeclaration": 26, "src": "3101:10:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_uint256", "typeString": "uint256"}], "expression": {"expression": {"id": 220, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3080:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 223, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "seller", "nodeType": "MemberAccess", "referencedDeclaration": 28, "src": "3080:11:12", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, "id": 224, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "src": "3080:20:12", "typeDescriptions": {"typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)"}}, "id": 227, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3080:32:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 228, "nodeType": "ExpressionStatement", "src": "3080:32:12"}, {"expression": {"arguments": [{"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 235, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 232, "name": "_totalPrice", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 180, "src": "3142:11:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": {"expression": {"id": 233, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3156:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 234, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "price", "nodeType": "MemberAccess", "referencedDeclaration": 26, "src": "3156:10:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "3142:24:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_uint256", "typeString": "uint256"}], "expression": {"id": 229, "name": "feeAccount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 12, "src": "3122:10:12", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, "id": 231, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "src": "3122:19:12", "typeDescriptions": {"typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)"}}, "id": 236, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3122:45:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 237, "nodeType": "ExpressionStatement", "src": "3122:45:12"}, {"expression": {"id": 242, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": {"expression": {"id": 238, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3205:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 240, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "sold", "nodeType": "MemberAccess", "referencedDeclaration": 32, "src": "3205:9:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "nodeType": "Assignment", "operator": "=", "rightHandSide": {"hexValue": "74727565", "id": 241, "isConstant": false, "isLValue": false, "isPure": true, "kind": "bool", "lValueRequested": false, "nodeType": "Literal", "src": "3217:4:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}, "value": "true"}, "src": "3205:16:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "id": 243, "nodeType": "ExpressionStatement", "src": "3205:16:12"}, {"expression": {"arguments": [{"arguments": [{"id": 251, "name": "this", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -28, "src": "3295:4:12", "typeDescriptions": {"typeIdentifier": "t_contract$_Marketplace_$312", "typeString": "contract Marketplace"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_contract$_Marketplace_$312", "typeString": "contract Marketplace"}], "id": 250, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "3287:7:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 249, "name": "address", "nodeType": "ElementaryTypeName", "src": "3287:7:12", "typeDescriptions": {}}}, "id": 252, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3287:13:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"expression": {"id": 253, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -15, "src": "3302:3:12", "typeDescriptions": {"typeIdentifier": "t_magic_message", "typeString": "msg"}}, "id": 254, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "src": "3302:10:12", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"expression": {"id": 255, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3314:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 256, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "tokenId", "nodeType": "MemberAccess", "referencedDeclaration": 24, "src": "3314:12:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}], "expression": {"expression": {"id": 244, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3265:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 247, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "nft", "nodeType": "MemberAccess", "referencedDeclaration": 22, "src": "3265:8:12", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}}, "id": 248, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transferFrom", "nodeType": "MemberAccess", "referencedDeclaration": 476, "src": "3265:21:12", "typeDescriptions": {"typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$", "typeString": "function (address,address,uint256) external"}}, "id": 257, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3265:62:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 258, "nodeType": "ExpressionStatement", "src": "3265:62:12"}, {"eventCall": {"arguments": [{"id": 260, "name": "_itemId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 174, "src": "3376:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, {"arguments": [{"expression": {"id": 263, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3405:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 264, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "nft", "nodeType": "MemberAccess", "referencedDeclaration": 22, "src": "3405:8:12", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_contract$_IERC721_$523", "typeString": "contract IERC721"}], "id": 262, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "3397:7:12", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 261, "name": "address", "nodeType": "ElementaryTypeName", "src": "3397:7:12", "typeDescriptions": {}}}, "id": 265, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3397:17:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"expression": {"id": 266, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3428:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 267, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "tokenId", "nodeType": "MemberAccess", "referencedDeclaration": 24, "src": "3428:12:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, {"expression": {"id": 268, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3454:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 269, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "seller", "nodeType": "MemberAccess", "referencedDeclaration": 28, "src": "3454:11:12", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, {"expression": {"id": 270, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -15, "src": "3479:3:12", "typeDescriptions": {"typeIdentifier": "t_magic_message", "typeString": "msg"}}, "id": 271, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "src": "3479:10:12", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"expression": {"id": 272, "name": "item", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "3503:4:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage_ptr", "typeString": "struct Marketplace.Item storage pointer"}}, "id": 273, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "price", "nodeType": "MemberAccess", "referencedDeclaration": 26, "src": "3503:10:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_uint256", "typeString": "uint256"}, {"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}, {"typeIdentifier": "t_address_payable", "typeString": "address payable"}, {"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}], "id": 259, "name": "MarketItemPurchased", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 61, "src": "3343:19:12", "typeDescriptions": {"typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$_t_address_$_t_address_$_t_uint256_$returns$__$", "typeString": "function (uint256,address,uint256,address,address,uint256)"}}, "id": 274, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3343:180:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 275, "nodeType": "EmitStatement", "src": "3338:185:12"}]}, "documentation": {"id": 172, "nodeType": "StructuredDocumentation", "src": "2342:136:12", "text": " @notice Purchasing a token from the Marketplace\n @param _itemId ItemID of the marketplace item we're purchasing"}, "functionSelector": "d38ea5bf", "id": 277, "implemented": true, "kind": "function", "modifiers": [{"id": 177, "kind": "modifierInvocation", "modifierName": {"id": 176, "name": "nonReentrant", "nodeType": "IdentifierPath", "referencedDeclaration": 406, "src": "2539:12:12"}, "nodeType": "ModifierInvocation", "src": "2539:12:12"}], "name": "purchaseItem", "nameLocation": "2492:12:12", "nodeType": "FunctionDefinition", "parameters": {"id": 175, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 174, "mutability": "mutable", "name": "_itemId", "nameLocation": "2513:7:12", "nodeType": "VariableDeclaration", "scope": 277, "src": "2505:15:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 173, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "2505:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "2504:17:12"}, "returnParameters": {"id": 178, "nodeType": "ParameterList", "parameters": [], "src": "2552:0:12"}, "scope": 312, "src": "2483:1047:12", "stateMutability": "payable", "virtual": false, "visibility": "external"}, {"body": {"id": 298, "nodeType": "Block", "src": "3750:84:12", "statements": [{"expression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 296, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"components": [{"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 293, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"expression": {"baseExpression": {"id": 285, "name": "marketplaceItems", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 66, "src": "3768:16:12", "typeDescriptions": {"typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Item_$33_storage_$", "typeString": "mapping(uint256 => struct Marketplace.Item storage ref)"}}, "id": 287, "indexExpression": {"id": 286, "name": "_itemId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 280, "src": "3785:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "3768:25:12", "typeDescriptions": {"typeIdentifier": "t_struct$_Item_$33_storage", "typeString": "struct Marketplace.Item storage ref"}}, "id": 288, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "price", "nodeType": "MemberAccess", "referencedDeclaration": 26, "src": "3768:31:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": "*", "rightExpression": {"components": [{"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 291, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"hexValue": "313030", "id": 289, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "3803:3:12", "typeDescriptions": {"typeIdentifier": "t_rational_100_by_1", "typeString": "int_const 100"}, "value": "100"}, "nodeType": "BinaryOperation", "operator": "+", "rightExpression": {"id": 290, "name": "feePercent", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 14, "src": "3809:10:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "3803:16:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "id": 292, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "3802:18:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "3768:52:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "id": 294, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "3767:54:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": "/", "rightExpression": {"hexValue": "313030", "id": 295, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "3824:3:12", "typeDescriptions": {"typeIdentifier": "t_rational_100_by_1", "typeString": "int_const 100"}, "value": "100"}, "src": "3767:60:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "functionReturnParameters": 284, "id": 297, "nodeType": "Return", "src": "3760:67:12"}]}, "documentation": {"id": 278, "nodeType": "StructuredDocumentation", "src": "3536:139:12", "text": " @notice Getting the total price of purchasing an NFT [Price + Fee]\n @param _itemId Id of the item we're purchasing"}, "functionSelector": "ca7dd375", "id": 299, "implemented": true, "kind": "function", "modifiers": [], "name": "getTotalPrice", "nameLocation": "3689:13:12", "nodeType": "FunctionDefinition", "parameters": {"id": 281, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 280, "mutability": "mutable", "name": "_itemId", "nameLocation": "3711:7:12", "nodeType": "VariableDeclaration", "scope": 299, "src": "3703:15:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 279, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "3703:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "3702:17:12"}, "returnParameters": {"id": 284, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 283, "mutability": "mutable", "name": "", "nameLocation": "-1:-1:-1", "nodeType": "VariableDeclaration", "scope": 299, "src": "3741:7:12", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 282, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "3741:7:12", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "3740:9:12"}, "scope": 312, "src": "3680:154:12", "stateMutability": "view", "virtual": false, "visibility": "public"}, {"body": {"id": 310, "nodeType": "Block", "src": "3861:136:12", "statements": [{"expression": {"arguments": [{"commonType": {"typeIdentifier": "t_address", "typeString": "address"}, "id": 305, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"expression": {"id": 302, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -15, "src": "3892:3:12", "typeDescriptions": {"typeIdentifier": "t_magic_message", "typeString": "msg"}}, "id": 303, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "src": "3892:10:12", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "nodeType": "BinaryOperation", "operator": "==", "rightExpression": {"id": 304, "name": "feeAccount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 12, "src": "3906:10:12", "typeDescriptions": {"typeIdentifier": "t_address_payable", "typeString": "address payable"}}, "src": "3892:24:12", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, {"hexValue": "4552524f523a204f6e6c79206465706c6f7965722063616e206d696e7420746f6b656e732e", "id": 306, "isConstant": false, "isLValue": false, "isPure": true, "kind": "string", "lValueRequested": false, "nodeType": "Literal", "src": "3930:39:12", "typeDescriptions": {"typeIdentifier": "t_stringliteral_698ee74e05f056b604c74f913b7e00dc0d2eaeda51cb3e7262cca6e1a0ee5389", "typeString": "literal_string \"ERROR: Only deployer can mint tokens.\""}, "value": "ERROR: Only deployer can mint tokens."}], "expression": {"argumentTypes": [{"typeIdentifier": "t_bool", "typeString": "bool"}, {"typeIdentifier": "t_stringliteral_698ee74e05f056b604c74f913b7e00dc0d2eaeda51cb3e7262cca6e1a0ee5389", "typeString": "literal_string \"ERROR: Only deployer can mint tokens.\""}], "id": 301, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [-18, -18], "referencedDeclaration": -18, "src": "3871:7:12", "typeDescriptions": {"typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$", "typeString": "function (bool,string memory) pure"}}, "id": 307, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3871:108:12", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 308, "nodeType": "ExpressionStatement", "src": "3871:108:12"}, {"id": 309, "nodeType": "PlaceholderStatement", "src": "3989:1:12"}]}, "id": 311, "name": "onlyOwner", "nameLocation": "3849:9:12", "nodeType": "ModifierDefinition", "parameters": {"id": 300, "nodeType": "ParameterList", "parameters": [], "src": "3858:2:12"}, "src": "3840:157:12", "virtual": false, "visibility": "internal"}], "scope": 313, "src": "233:3766:12", "usedErrors": []}], "src": "32:3968:12"}, "bytecode": "60c060405234801561001057600080fd5b50604051610a4b380380610a4b83398101604081905261002f91610043565b60016000553360601b60805260a05261005c565b60006020828403121561005557600080fd5b5051919050565b60805160601c60a0516109b9610092600039600081816101cf015261050601526000818161015e015261074b01526109b96000f3fe6080604052600436106100705760003560e01c80636bfb0d011161004e5780636bfb0d01146101985780637fd6f15c146101bd578063ca7dd375146101f1578063d38ea5bf1461021157600080fd5b806318b616bb1461007557806357baf0fb1461012a57806365e17c9d1461014c575b600080fd5b34801561008157600080fd5b506100e26100903660046108e4565b600260208190526000918252604090912080546001820154928201546003830154600484015460059094015492946001600160a01b03908116949293919281169190811690600160a01b900460ff1687565b604080519788526001600160a01b03968716602089015287019490945260608601929092528316608085015290911660a0830152151560c082015260e0015b60405180910390f35b34801561013657600080fd5b5061014a6101453660046108a3565b610224565b005b34801561015857600080fd5b506101807f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610121565b3480156101a457600080fd5b506001546101af9081565b604051908152602001610121565b3480156101c957600080fd5b506101af7f000000000000000000000000000000000000000000000000000000000000000081565b3480156101fd57600080fd5b506101af61020c3660046108e4565b6104fd565b61014a61021f3660046108e4565b610557565b6002600054141561027c5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064015b60405180910390fd5b6002600055806102da5760405162461bcd60e51b8152602060048201526024808201527f4552524f523a205072696365206d7573742062652067726561746572207468616044820152633710181760e11b6064820152608401610273565b6102e8600180546001019055565b60006102f360015490565b6040516323b872dd60e01b8152336004820152306024820152604481018590529091506001600160a01b038516906323b872dd90606401600060405180830381600087803b15801561034457600080fd5b505af1158015610358573d6000803e3d6000fd5b505050506040518060e00160405280828152602001856001600160a01b03168152602001848152602001838152602001336001600160a01b03168152602001306001600160a01b0316815260200160001515815250600260008381526020019081526020016000206000820151816000015560208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550604082015181600201556060820151816003015560808201518160040160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060a08201518160050160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060c08201518160050160146101000a81548160ff021916908315150217905550905050306001600160a01b0316336001600160a01b0316856001600160a01b03167f2ad024d53a0dc50c130967f8d4941927ee087ea31394cebb2b9599d3706c9c008487876040516104ea939291909283526020830191909152604082015260600190565b60405180910390a4505060016000555050565b6000606461052b7f0000000000000000000000000000000000000000000000000000000000000000826108fd565b6000848152600260205260409020600301546105479190610937565b6105519190610915565b92915050565b600260005414156105aa5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610273565b600260009081556105ba826104fd565b600083815260026020526040902090915082158015906105dc57506001548311155b6106285760405162461bcd60e51b815260206004820152601b60248201527f4552524f523a204974656d20646f6573206e6f742065786973742e00000000006044820152606401610273565b81341461069d5760405162461bcd60e51b815260206004820152603d60248201527f4552524f523a204e6f7420656e6f75676820657468657220746f20636f76657260448201527f20746865206974656d2070726963652026206d61726b6574206665652e0000006064820152608401610273565b6005810154600160a01b900460ff16156107085760405162461bcd60e51b815260206004820152602660248201527f4552524f523a20466f6c6c6f77696e67206974656d20697320616c72656164796044820152651039b7b6321760d11b6064820152608401610273565b600481015460038201546040516001600160a01b039092169181156108fc0291906000818181858888f19350505050158015610748573d6000803e3d6000fd5b507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166108fc8260030154846107869190610956565b6040518115909202916000818181858888f193505050501580156107ae573d6000803e3d6000fd5b5060058101805460ff60a01b1916600160a01b179055600181015460028201546040516323b872dd60e01b815230600482015233602482015260448101919091526001600160a01b03909116906323b872dd90606401600060405180830381600087803b15801561081e57600080fd5b505af1158015610832573d6000803e3d6000fd5b50505050600481015460018201546002830154600384015460408051888152602081019390935282015233926001600160a01b039081169216907f9bb01161e85f9965e92737fb545d7f9a02061726f0037a6db175e69408b8679d9060600160405180910390a45050600160005550565b6000806000606084860312156108b857600080fd5b83356001600160a01b03811681146108cf57600080fd5b95602085013595506040909401359392505050565b6000602082840312156108f657600080fd5b5035919050565b600082198211156109105761091061096d565b500190565b60008261093257634e487b7160e01b600052601260045260246000fd5b500490565b60008160001904831182151516156109515761095161096d565b500290565b6000828210156109685761096861096d565b500390565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220129bec389a80ca6be04087af9dd8705976a50e2b33dc377879f61997423022c864736f6c63430008070033", "bytecodeSha1": "35f2634e9c966bc425e3eb059cb02b992102e829", "compiler": {"evm_version": "istanbul", "optimizer": {"enabled": true, "runs": 200}, "version": "0.8.7+commit.e28d00a7"}, "contractName": "Marketplace", "coverageMap": {"branches": {"0": {"Marketplace.purchaseItem": {"21": [2325, 2344, true]}}, "11": {}, "12": {"Marketplace.createItem": {"16": [1546, 1556, true]}, "Marketplace.purchaseItem": {"17": [2722, 2733, false], "18": [2737, 2767, true], "19": [2851, 2875, true], "20": [2980, 2990, true]}}, "2": {}, "8": {}}, "statements": {"0": {}, "11": {}, "12": {"Marketplace.createItem": {"0": [1538, 1597], "1": [1608, 1629], "4": [1762, 1816], "5": [1877, 2106], "6": [2138, 2329]}, "Marketplace.getTotalPrice": {"7": [3760, 3827]}, "Marketplace.purchaseItem": {"8": [2701, 2820], "9": [2830, 2962], "10": [2972, 3033], "11": [3080, 3112], "12": [3122, 3167], "13": [3205, 3221], "14": [3265, 3327], "15": [3338, 3523]}}, "2": {}, "8": {"Counters.current": {"3": [911, 932]}, "Counters.increment": {"2": [1032, 1051]}}}}, "dependencies": ["OpenZeppelin/openzeppelin-contracts@4.4.1/Counters", "OpenZeppelin/openzeppelin-contracts@4.4.1/IERC165", "OpenZeppelin/openzeppelin-contracts@4.4.1/IERC721", "OpenZeppelin/openzeppelin-contracts@4.4.1/ReentrancyGuard"], "deployedBytecode": "6080604052600436106100705760003560e01c80636bfb0d011161004e5780636bfb0d01146101985780637fd6f15c146101bd578063ca7dd375146101f1578063d38ea5bf1461021157600080fd5b806318b616bb1461007557806357baf0fb1461012a57806365e17c9d1461014c575b600080fd5b34801561008157600080fd5b506100e26100903660046108e4565b600260208190526000918252604090912080546001820154928201546003830154600484015460059094015492946001600160a01b03908116949293919281169190811690600160a01b900460ff1687565b604080519788526001600160a01b03968716602089015287019490945260608601929092528316608085015290911660a0830152151560c082015260e0015b60405180910390f35b34801561013657600080fd5b5061014a6101453660046108a3565b610224565b005b34801561015857600080fd5b506101807f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610121565b3480156101a457600080fd5b506001546101af9081565b604051908152602001610121565b3480156101c957600080fd5b506101af7f000000000000000000000000000000000000000000000000000000000000000081565b3480156101fd57600080fd5b506101af61020c3660046108e4565b6104fd565b61014a61021f3660046108e4565b610557565b6002600054141561027c5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064015b60405180910390fd5b6002600055806102da5760405162461bcd60e51b8152602060048201526024808201527f4552524f523a205072696365206d7573742062652067726561746572207468616044820152633710181760e11b6064820152608401610273565b6102e8600180546001019055565b60006102f360015490565b6040516323b872dd60e01b8152336004820152306024820152604481018590529091506001600160a01b038516906323b872dd90606401600060405180830381600087803b15801561034457600080fd5b505af1158015610358573d6000803e3d6000fd5b505050506040518060e00160405280828152602001856001600160a01b03168152602001848152602001838152602001336001600160a01b03168152602001306001600160a01b0316815260200160001515815250600260008381526020019081526020016000206000820151816000015560208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550604082015181600201556060820151816003015560808201518160040160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060a08201518160050160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060c08201518160050160146101000a81548160ff021916908315150217905550905050306001600160a01b0316336001600160a01b0316856001600160a01b03167f2ad024d53a0dc50c130967f8d4941927ee087ea31394cebb2b9599d3706c9c008487876040516104ea939291909283526020830191909152604082015260600190565b60405180910390a4505060016000555050565b6000606461052b7f0000000000000000000000000000000000000000000000000000000000000000826108fd565b6000848152600260205260409020600301546105479190610937565b6105519190610915565b92915050565b600260005414156105aa5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610273565b600260009081556105ba826104fd565b600083815260026020526040902090915082158015906105dc57506001548311155b6106285760405162461bcd60e51b815260206004820152601b60248201527f4552524f523a204974656d20646f6573206e6f742065786973742e00000000006044820152606401610273565b81341461069d5760405162461bcd60e51b815260206004820152603d60248201527f4552524f523a204e6f7420656e6f75676820657468657220746f20636f76657260448201527f20746865206974656d2070726963652026206d61726b6574206665652e0000006064820152608401610273565b6005810154600160a01b900460ff16156107085760405162461bcd60e51b815260206004820152602660248201527f4552524f523a20466f6c6c6f77696e67206974656d20697320616c72656164796044820152651039b7b6321760d11b6064820152608401610273565b600481015460038201546040516001600160a01b039092169181156108fc0291906000818181858888f19350505050158015610748573d6000803e3d6000fd5b507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166108fc8260030154846107869190610956565b6040518115909202916000818181858888f193505050501580156107ae573d6000803e3d6000fd5b5060058101805460ff60a01b1916600160a01b179055600181015460028201546040516323b872dd60e01b815230600482015233602482015260448101919091526001600160a01b03909116906323b872dd90606401600060405180830381600087803b15801561081e57600080fd5b505af1158015610832573d6000803e3d6000fd5b50505050600481015460018201546002830154600384015460408051888152602081019390935282015233926001600160a01b039081169216907f9bb01161e85f9965e92737fb545d7f9a02061726f0037a6db175e69408b8679d9060600160405180910390a45050600160005550565b6000806000606084860312156108b857600080fd5b83356001600160a01b03811681146108cf57600080fd5b95602085013595506040909401359392505050565b6000602082840312156108f657600080fd5b5035919050565b600082198211156109105761091061096d565b500190565b60008261093257634e487b7160e01b600052601260045260246000fd5b500490565b60008160001904831182151516156109515761095161096d565b500290565b6000828210156109685761096861096d565b500390565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220129bec389a80ca6be04087af9dd8705976a50e2b33dc377879f61997423022c864736f6c63430008070033", "deployedSourceMap": "233:3766:12:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1166:48;;;;;;;;;;-1:-1:-1;1166:48:12;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1166:48:12;;;;;;;;;;;;;;;-1:-1:-1;;;1166:48:12;;;;;;;;;;3741:25:14;;;-1:-1:-1;;;;;3840:15:14;;;3835:2;3820:18;;3813:43;3872:18;;3865:34;;;;3930:2;3915:18;;3908:34;;;;3979:15;;3973:3;3958:19;;3951:44;4032:15;;;3793:3;4011:19;;4004:44;4092:14;4085:22;4079:3;4064:19;;4057:51;3728:3;3713:19;1166:48:12;;;;;;;;1408:928;;;;;;;;;;-1:-1:-1;1408:928:12;;;;;:::i;:::-;;:::i;:::-;;321:43;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;821:32:14;;;803:51;;791:2;776:18;321:43:12;641:219:14;472:33:12;;;;;;;;;;-1:-1:-1;472:33:12;;;;;;;;;3349:25:14;;;3337:2;3322:18;472:33:12;3203:177:14;404:35:12;;;;;;;;;;;;;;;3680:154;;;;;;;;;;-1:-1:-1;3680:154:12;;;;;:::i;:::-;;:::i;2483:1047::-;;;;;;:::i;:::-;;:::i;1408:928::-;1744:1:0;2325:7;;:19;;2317:63;;;;-1:-1:-1;;;2317:63:0;;3045:2:14;2317:63:0;;;3027:21:14;3084:2;3064:18;;;3057:30;3123:33;3103:18;;;3096:61;3174:18;;2317:63:0;;;;;;;;;1744:1;2455:7;:18;1546:10:12;1538:59:::1;;;::::0;-1:-1:-1;;;1538:59:12;;2233:2:14;1538:59:12::1;::::0;::::1;2215:21:14::0;2272:2;2252:18;;;2245:30;2311:34;2291:18;;;2284:62;-1:-1:-1;;;2362:18:14;;;2355:34;2406:19;;1538:59:12::1;2031:400:14::0;1538:59:12::1;1608:21;:9;1032:19:8::0;;1050:1;1032:19;;;945:123;1608:21:12::1;1639:24;1666:19;:9;918:14:8::0;;827:112;1666:19:12::1;1762:54;::::0;-1:-1:-1;;;1762:54:12;;1780:10:::1;1762:54;::::0;::::1;1105:34:14::0;1800:4:12::1;1155:18:14::0;;;1148:43;1207:18;;;1200:34;;;1639:46:12;;-1:-1:-1;;;;;;1762:17:12;::::1;::::0;::::1;::::0;1040:18:14;;1762:54:12::1;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;1914:192;;;;;;;;1932:16;1914:192;;;;1962:4;-1:-1:-1::0;;;;;1914:192:12::1;;;;;1980:8;1914:192;;;;2002:6;1914:192;;;;2030:10;-1:-1:-1::0;;;;;1914:192:12::1;;;;;2071:4;-1:-1:-1::0;;;;;1914:192:12::1;;;;;2091:5;1914:192;;;;::::0;1877:16:::1;:34;1894:16;1877:34;;;;;;;;;;;:229;;;;;;;;;;;;;;;;;;;;;-1:-1:-1::0;;;;;1877:229:12::1;;;;;-1:-1:-1::0;;;;;1877:229:12::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1::0;;;;;1877:229:12::1;;;;;-1:-1:-1::0;;;;;1877:229:12::1;;;;;;;;;;;;;;;;;;;-1:-1:-1::0;;;;;1877:229:12::1;;;;;-1:-1:-1::0;;;;;1877:229:12::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2294:4;-1:-1:-1::0;;;;;2143:186:12::1;2261:10;-1:-1:-1::0;;;;;2143:186:12::1;2212:4;-1:-1:-1::0;;;;;2143:186:12::1;;2174:16;2231:8;2313:6;2143:186;;;;;;;4321:25:14::0;;;4377:2;4362:18;;4355:34;;;;4420:2;4405:18;;4398:34;4309:2;4294:18;;4119:319;2143:186:12::1;;;;;;;;-1:-1:-1::0;;1701:1:0;2628:7;:22;-1:-1:-1;;1408:928:12:o;3680:154::-;3741:7;3824:3;3803:16;3809:10;3824:3;3803:16;:::i;:::-;3768:25;;;;:16;:25;;;;;:31;;;:52;;;;:::i;:::-;3767:60;;;;:::i;:::-;3760:67;3680:154;-1:-1:-1;;3680:154:12:o;2483:1047::-;1744:1:0;2325:7;;:19;;2317:63;;;;-1:-1:-1;;;2317:63:0;;3045:2:14;2317:63:0;;;3027:21:14;3084:2;3064:18;;;3057:30;3123:33;3103:18;;;3096:61;3174:18;;2317:63:0;2843:355:14;2317:63:0;1744:1;2455:7;:18;;;2584:22:12::1;2598:7:::0;2584:13:::1;:22::i;:::-;2616:17;2636:25:::0;;;:16:::1;:25;::::0;;;;2562:44;;-1:-1:-1;2722:11:12;;;;;:45:::1;;-1:-1:-1::0;2748:9:12::1;918:14:8::0;2737:7:12::1;:30;;2722:45;2701:119;;;::::0;-1:-1:-1;;;2701:119:12;;1877:2:14;2701:119:12::1;::::0;::::1;1859:21:14::0;1916:2;1896:18;;;1889:30;1955:29;1935:18;;;1928:57;2002:18;;2701:119:12::1;1675:351:14::0;2701:119:12::1;2864:11;2851:9;:24;2830:132;;;::::0;-1:-1:-1;;;2830:132:12;;1447:2:14;2830:132:12::1;::::0;::::1;1429:21:14::0;1486:2;1466:18;;;1459:30;1525:34;1505:18;;;1498:62;1596:31;1576:18;;;1569:59;1645:19;;2830:132:12::1;1245:425:14::0;2830:132:12::1;2981:9;::::0;::::1;::::0;-1:-1:-1;;;2981:9:12;::::1;;;2980:10;2972:61;;;::::0;-1:-1:-1;;;2972:61:12;;2638:2:14;2972:61:12::1;::::0;::::1;2620:21:14::0;2677:2;2657:18;;;2650:30;2716:34;2696:18;;;2689:62;-1:-1:-1;;;2767:18:14;;;2760:36;2813:19;;2972:61:12::1;2436:402:14::0;2972:61:12::1;3080:11;::::0;::::1;::::0;3101:10:::1;::::0;::::1;::::0;3080:32:::1;::::0;-1:-1:-1;;;;;3080:11:12;;::::1;::::0;:32;::::1;;;::::0;3101:10;3080:11:::1;:32:::0;:11;:32;3101:10;3080:11;:32;::::1;;;;;;;;;;;;;::::0;::::1;;;;;;3122:10;-1:-1:-1::0;;;;;3122:19:12::1;:45;3156:4;:10;;;3142:11;:24;;;;:::i;:::-;3122:45;::::0;;::::1;::::0;;::::1;::::0;::::1;::::0;;;;;;::::1;;;;;;;;;;;;;::::0;::::1;;;;;-1:-1:-1::0;3205:9:12::1;::::0;::::1;:16:::0;;-1:-1:-1;;;;3205:16:12::1;-1:-1:-1::0;;;3205:16:12::1;::::0;;-1:-1:-1;3265:8:12;::::1;::::0;3314:12:::1;::::0;::::1;::::0;3265:62:::1;::::0;-1:-1:-1;;;3265:62:12;;3295:4:::1;3265:62;::::0;::::1;1105:34:14::0;3302:10:12::1;1155:18:14::0;;;1148:43;1207:18;;;1200:34;;;;-1:-1:-1;;;;;3265:8:12;;::::1;::::0;:21:::1;::::0;1040:18:14;;3265:62:12::1;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;-1:-1:-1::0;;;;3454:11:12::1;::::0;::::1;::::0;;3405:8;::::1;::::0;3428:12:::1;::::0;::::1;::::0;3503:10:::1;::::0;::::1;::::0;3343:180:::1;::::0;;4321:25:14;;;4377:2;4362:18;;4355:34;;;;4405:18;;4398:34;3479:10:12::1;::::0;-1:-1:-1;;;;;3454:11:12;;::::1;::::0;3405:8:::1;::::0;3343:180:::1;::::0;4309:2:14;4294:18;3343:180:12::1;;;;;;;-1:-1:-1::0;;1701:1:0;2628:7;:22;-1:-1:-1;2483:1047:12:o;14:437:14:-;106:6;114;122;175:2;163:9;154:7;150:23;146:32;143:52;;;191:1;188;181:12;143:52;217:23;;-1:-1:-1;;;;;269:31:14;;259:42;;249:70;;315:1;312;305:12;249:70;338:5;390:2;375:18;;362:32;;-1:-1:-1;441:2:14;426:18;;;413:32;;14:437;-1:-1:-1;;;14:437:14:o;456:180::-;515:6;568:2;556:9;547:7;543:23;539:32;536:52;;;584:1;581;574:12;536:52;-1:-1:-1;607:23:14;;456:180;-1:-1:-1;456:180:14:o;4443:128::-;4483:3;4514:1;4510:6;4507:1;4504:13;4501:39;;;4520:18;;:::i;:::-;-1:-1:-1;4556:9:14;;4443:128::o;4576:217::-;4616:1;4642;4632:132;;4686:10;4681:3;4677:20;4674:1;4667:31;4721:4;4718:1;4711:15;4749:4;4746:1;4739:15;4632:132;-1:-1:-1;4778:9:14;;4576:217::o;4798:168::-;4838:7;4904:1;4900;4896:6;4892:14;4889:1;4886:21;4881:1;4874:9;4867:17;4863:45;4860:71;;;4911:18;;:::i;:::-;-1:-1:-1;4951:9:14;;4798:168::o;4971:125::-;5011:4;5039:1;5036;5033:8;5030:34;;;5044:18;;:::i;:::-;-1:-1:-1;5081:9:14;;4971:125::o;5101:127::-;5162:10;5157:3;5153:20;5150:1;5143:31;5193:4;5190:1;5183:15;5217:4;5214:1;5207:15", "language": "Solidity", "natspec": {"kind": "dev", "methods": {"createItem(address,uint256,uint256)": {"notice": "Create an item on the marketplace"}, "getTotalPrice(uint256)": {"notice": "Getting the total price of purchasing an NFT [Price + Fee]", "params": {"_itemId": "Id of the item we're purchasing"}}, "purchaseItem(uint256)": {"notice": "Purchasing a token from the Marketplace", "params": {"_itemId": "ItemID of the marketplace item we're purchasing"}}}, "version": 1}, "offset": [233, 3999], "opcodes": "PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT PUSH2 0x70 JUMPI PUSH1 0x0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH4 0x6BFB0D01 GT PUSH2 0x4E JUMPI DUP1 PUSH4 0x6BFB0D01 EQ PUSH2 0x198 JUMPI DUP1 PUSH4 0x7FD6F15C EQ PUSH2 0x1BD JUMPI DUP1 PUSH4 0xCA7DD375 EQ PUSH2 0x1F1 JUMPI DUP1 PUSH4 0xD38EA5BF EQ PUSH2 0x211 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP1 PUSH4 0x18B616BB EQ PUSH2 0x75 JUMPI DUP1 PUSH4 0x57BAF0FB EQ PUSH2 0x12A JUMPI DUP1 PUSH4 0x65E17C9D EQ PUSH2 0x14C JUMPI JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE DUP1 ISZERO PUSH2 0x81 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH2 0xE2 PUSH2 0x90 CALLDATASIZE PUSH1 0x4 PUSH2 0x8E4 JUMP JUMPDEST PUSH1 0x2 PUSH1 0x20 DUP2 SWAP1 MSTORE PUSH1 0x0 SWAP2 DUP3 MSTORE PUSH1 0x40 SWAP1 SWAP2 KECCAK256 DUP1 SLOAD PUSH1 0x1 DUP3 ADD SLOAD SWAP3 DUP3 ADD SLOAD PUSH1 0x3 DUP4 ADD SLOAD PUSH1 0x4 DUP5 ADD SLOAD PUSH1 0x5 SWAP1 SWAP5 ADD SLOAD SWAP3 SWAP5 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 DUP2 AND SWAP5 SWAP3 SWAP4 SWAP2 SWAP3 DUP2 AND SWAP2 SWAP1 DUP2 AND SWAP1 PUSH1 0x1 PUSH1 0xA0 SHL SWAP1 DIV PUSH1 0xFF AND DUP8 JUMP JUMPDEST PUSH1 0x40 DUP1 MLOAD SWAP8 DUP9 MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP7 DUP8 AND PUSH1 0x20 DUP10 ADD MSTORE DUP8 ADD SWAP5 SWAP1 SWAP5 MSTORE PUSH1 0x60 DUP7 ADD SWAP3 SWAP1 SWAP3 MSTORE DUP4 AND PUSH1 0x80 DUP6 ADD MSTORE SWAP1 SWAP2 AND PUSH1 0xA0 DUP4 ADD MSTORE ISZERO ISZERO PUSH1 0xC0 DUP3 ADD MSTORE PUSH1 0xE0 ADD JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST CALLVALUE DUP1 ISZERO PUSH2 0x136 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH2 0x14A PUSH2 0x145 CALLDATASIZE PUSH1 0x4 PUSH2 0x8A3 JUMP JUMPDEST PUSH2 0x224 JUMP JUMPDEST STOP JUMPDEST CALLVALUE DUP1 ISZERO PUSH2 0x158 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH2 0x180 PUSH32 0x0 DUP2 JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 ADD PUSH2 0x121 JUMP JUMPDEST CALLVALUE DUP1 ISZERO PUSH2 0x1A4 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x1 SLOAD PUSH2 0x1AF SWAP1 DUP2 JUMP JUMPDEST PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE PUSH1 0x20 ADD PUSH2 0x121 JUMP JUMPDEST CALLVALUE DUP1 ISZERO PUSH2 0x1C9 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH2 0x1AF PUSH32 0x0 DUP2 JUMP JUMPDEST CALLVALUE DUP1 ISZERO PUSH2 0x1FD JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH2 0x1AF PUSH2 0x20C CALLDATASIZE PUSH1 0x4 PUSH2 0x8E4 JUMP JUMPDEST PUSH2 0x4FD JUMP JUMPDEST PUSH2 0x14A PUSH2 0x21F CALLDATASIZE PUSH1 0x4 PUSH2 0x8E4 JUMP JUMPDEST PUSH2 0x557 JUMP JUMPDEST PUSH1 0x2 PUSH1 0x0 SLOAD EQ ISZERO PUSH2 0x27C JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x1F PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x5265656E7472616E637947756172643A207265656E7472616E742063616C6C00 PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 REVERT JUMPDEST PUSH1 0x2 PUSH1 0x0 SSTORE DUP1 PUSH2 0x2DA JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x24 DUP1 DUP3 ADD MSTORE PUSH32 0x4552524F523A205072696365206D757374206265206772656174657220746861 PUSH1 0x44 DUP3 ADD MSTORE PUSH4 0x37101817 PUSH1 0xE1 SHL PUSH1 0x64 DUP3 ADD MSTORE PUSH1 0x84 ADD PUSH2 0x273 JUMP JUMPDEST PUSH2 0x2E8 PUSH1 0x1 DUP1 SLOAD PUSH1 0x1 ADD SWAP1 SSTORE JUMP JUMPDEST PUSH1 0x0 PUSH2 0x2F3 PUSH1 0x1 SLOAD SWAP1 JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH4 0x23B872DD PUSH1 0xE0 SHL DUP2 MSTORE CALLER PUSH1 0x4 DUP3 ADD MSTORE ADDRESS PUSH1 0x24 DUP3 ADD MSTORE PUSH1 0x44 DUP2 ADD DUP6 SWAP1 MSTORE SWAP1 SWAP2 POP PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP6 AND SWAP1 PUSH4 0x23B872DD SWAP1 PUSH1 0x64 ADD PUSH1 0x0 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 PUSH1 0x0 DUP8 DUP1 EXTCODESIZE ISZERO DUP1 ISZERO PUSH2 0x344 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP GAS CALL ISZERO DUP1 ISZERO PUSH2 0x358 JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP POP POP POP PUSH1 0x40 MLOAD DUP1 PUSH1 0xE0 ADD PUSH1 0x40 MSTORE DUP1 DUP3 DUP2 MSTORE PUSH1 0x20 ADD DUP6 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP2 MSTORE PUSH1 0x20 ADD DUP5 DUP2 MSTORE PUSH1 0x20 ADD DUP4 DUP2 MSTORE PUSH1 0x20 ADD CALLER PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP2 MSTORE PUSH1 0x20 ADD ADDRESS PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP2 MSTORE PUSH1 0x20 ADD PUSH1 0x0 ISZERO ISZERO DUP2 MSTORE POP PUSH1 0x2 PUSH1 0x0 DUP4 DUP2 MSTORE PUSH1 0x20 ADD SWAP1 DUP2 MSTORE PUSH1 0x20 ADD PUSH1 0x0 KECCAK256 PUSH1 0x0 DUP3 ADD MLOAD DUP2 PUSH1 0x0 ADD SSTORE PUSH1 0x20 DUP3 ADD MLOAD DUP2 PUSH1 0x1 ADD PUSH1 0x0 PUSH2 0x100 EXP DUP2 SLOAD DUP2 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB MUL NOT AND SWAP1 DUP4 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND MUL OR SWAP1 SSTORE POP PUSH1 0x40 DUP3 ADD MLOAD DUP2 PUSH1 0x2 ADD SSTORE PUSH1 0x60 DUP3 ADD MLOAD DUP2 PUSH1 0x3 ADD SSTORE PUSH1 0x80 DUP3 ADD MLOAD DUP2 PUSH1 0x4 ADD PUSH1 0x0 PUSH2 0x100 EXP DUP2 SLOAD DUP2 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB MUL NOT AND SWAP1 DUP4 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND MUL OR SWAP1 SSTORE POP PUSH1 0xA0 DUP3 ADD MLOAD DUP2 PUSH1 0x5 ADD PUSH1 0x0 PUSH2 0x100 EXP DUP2 SLOAD DUP2 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB MUL NOT AND SWAP1 DUP4 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND MUL OR SWAP1 SSTORE POP PUSH1 0xC0 DUP3 ADD MLOAD DUP2 PUSH1 0x5 ADD PUSH1 0x14 PUSH2 0x100 EXP DUP2 SLOAD DUP2 PUSH1 0xFF MUL NOT AND SWAP1 DUP4 ISZERO ISZERO MUL OR SWAP1 SSTORE POP SWAP1 POP POP ADDRESS PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND CALLER PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP6 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND PUSH32 0x2AD024D53A0DC50C130967F8D4941927EE087EA31394CEBB2B9599D3706C9C00 DUP5 DUP8 DUP8 PUSH1 0x40 MLOAD PUSH2 0x4EA SWAP4 SWAP3 SWAP2 SWAP1 SWAP3 DUP4 MSTORE PUSH1 0x20 DUP4 ADD SWAP2 SWAP1 SWAP2 MSTORE PUSH1 0x40 DUP3 ADD MSTORE PUSH1 0x60 ADD SWAP1 JUMP JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 LOG4 POP POP PUSH1 0x1 PUSH1 0x0 SSTORE POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x64 PUSH2 0x52B PUSH32 0x0 DUP3 PUSH2 0x8FD JUMP JUMPDEST PUSH1 0x0 DUP5 DUP2 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE PUSH1 0x40 SWAP1 KECCAK256 PUSH1 0x3 ADD SLOAD PUSH2 0x547 SWAP2 SWAP1 PUSH2 0x937 JUMP JUMPDEST PUSH2 0x551 SWAP2 SWAP1 PUSH2 0x915 JUMP JUMPDEST SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH1 0x2 PUSH1 0x0 SLOAD EQ ISZERO PUSH2 0x5AA JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x1F PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x5265656E7472616E637947756172643A207265656E7472616E742063616C6C00 PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD PUSH2 0x273 JUMP JUMPDEST PUSH1 0x2 PUSH1 0x0 SWAP1 DUP2 SSTORE PUSH2 0x5BA DUP3 PUSH2 0x4FD JUMP JUMPDEST PUSH1 0x0 DUP4 DUP2 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE PUSH1 0x40 SWAP1 KECCAK256 SWAP1 SWAP2 POP DUP3 ISZERO DUP1 ISZERO SWAP1 PUSH2 0x5DC JUMPI POP PUSH1 0x1 SLOAD DUP4 GT ISZERO JUMPDEST PUSH2 0x628 JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x1B PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x4552524F523A204974656D20646F6573206E6F742065786973742E0000000000 PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD PUSH2 0x273 JUMP JUMPDEST DUP2 CALLVALUE EQ PUSH2 0x69D JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x3D PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x4552524F523A204E6F7420656E6F75676820657468657220746F20636F766572 PUSH1 0x44 DUP3 ADD MSTORE PUSH32 0x20746865206974656D2070726963652026206D61726B6574206665652E000000 PUSH1 0x64 DUP3 ADD MSTORE PUSH1 0x84 ADD PUSH2 0x273 JUMP JUMPDEST PUSH1 0x5 DUP2 ADD SLOAD PUSH1 0x1 PUSH1 0xA0 SHL SWAP1 DIV PUSH1 0xFF AND ISZERO PUSH2 0x708 JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x26 PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x4552524F523A20466F6C6C6F77696E67206974656D20697320616C7265616479 PUSH1 0x44 DUP3 ADD MSTORE PUSH6 0x1039B7B63217 PUSH1 0xD1 SHL PUSH1 0x64 DUP3 ADD MSTORE PUSH1 0x84 ADD PUSH2 0x273 JUMP JUMPDEST PUSH1 0x4 DUP2 ADD SLOAD PUSH1 0x3 DUP3 ADD SLOAD PUSH1 0x40 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP3 AND SWAP2 DUP2 ISZERO PUSH2 0x8FC MUL SWAP2 SWAP1 PUSH1 0x0 DUP2 DUP2 DUP2 DUP6 DUP9 DUP9 CALL SWAP4 POP POP POP POP ISZERO DUP1 ISZERO PUSH2 0x748 JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP PUSH32 0x0 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND PUSH2 0x8FC DUP3 PUSH1 0x3 ADD SLOAD DUP5 PUSH2 0x786 SWAP2 SWAP1 PUSH2 0x956 JUMP JUMPDEST PUSH1 0x40 MLOAD DUP2 ISZERO SWAP1 SWAP3 MUL SWAP2 PUSH1 0x0 DUP2 DUP2 DUP2 DUP6 DUP9 DUP9 CALL SWAP4 POP POP POP POP ISZERO DUP1 ISZERO PUSH2 0x7AE JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP PUSH1 0x5 DUP2 ADD DUP1 SLOAD PUSH1 0xFF PUSH1 0xA0 SHL NOT AND PUSH1 0x1 PUSH1 0xA0 SHL OR SWAP1 SSTORE PUSH1 0x1 DUP2 ADD SLOAD PUSH1 0x2 DUP3 ADD SLOAD PUSH1 0x40 MLOAD PUSH4 0x23B872DD PUSH1 0xE0 SHL DUP2 MSTORE ADDRESS PUSH1 0x4 DUP3 ADD MSTORE CALLER PUSH1 0x24 DUP3 ADD MSTORE PUSH1 0x44 DUP2 ADD SWAP2 SWAP1 SWAP2 MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND SWAP1 PUSH4 0x23B872DD SWAP1 PUSH1 0x64 ADD PUSH1 0x0 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 PUSH1 0x0 DUP8 DUP1 EXTCODESIZE ISZERO DUP1 ISZERO PUSH2 0x81E JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP GAS CALL ISZERO DUP1 ISZERO PUSH2 0x832 JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP POP POP POP PUSH1 0x4 DUP2 ADD SLOAD PUSH1 0x1 DUP3 ADD SLOAD PUSH1 0x2 DUP4 ADD SLOAD PUSH1 0x3 DUP5 ADD SLOAD PUSH1 0x40 DUP1 MLOAD DUP9 DUP2 MSTORE PUSH1 0x20 DUP2 ADD SWAP4 SWAP1 SWAP4 MSTORE DUP3 ADD MSTORE CALLER SWAP3 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 DUP2 AND SWAP3 AND SWAP1 PUSH32 0x9BB01161E85F9965E92737FB545D7F9A02061726F0037A6DB175E69408B8679D SWAP1 PUSH1 0x60 ADD PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 LOG4 POP POP PUSH1 0x1 PUSH1 0x0 SSTORE POP JUMP JUMPDEST PUSH1 0x0 DUP1 PUSH1 0x0 PUSH1 0x60 DUP5 DUP7 SUB SLT ISZERO PUSH2 0x8B8 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP4 CALLDATALOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 EQ PUSH2 0x8CF JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST SWAP6 PUSH1 0x20 DUP6 ADD CALLDATALOAD SWAP6 POP PUSH1 0x40 SWAP1 SWAP5 ADD CALLDATALOAD SWAP4 SWAP3 POP POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0x8F6 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP CALLDATALOAD SWAP2 SWAP1 POP JUMP JUMPDEST PUSH1 0x0 DUP3 NOT DUP3 GT ISZERO PUSH2 0x910 JUMPI PUSH2 0x910 PUSH2 0x96D JUMP JUMPDEST POP ADD SWAP1 JUMP JUMPDEST PUSH1 0x0 DUP3 PUSH2 0x932 JUMPI PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x12 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST POP DIV SWAP1 JUMP JUMPDEST PUSH1 0x0 DUP2 PUSH1 0x0 NOT DIV DUP4 GT DUP3 ISZERO ISZERO AND ISZERO PUSH2 0x951 JUMPI PUSH2 0x951 PUSH2 0x96D JUMP JUMPDEST POP MUL SWAP1 JUMP JUMPDEST PUSH1 0x0 DUP3 DUP3 LT ISZERO PUSH2 0x968 JUMPI PUSH2 0x968 PUSH2 0x96D JUMP JUMPDEST POP SUB SWAP1 JUMP JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x11 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 SLT SWAP12 0xEC CODESIZE SWAP11 DUP1 0xCA PUSH12 0xE04087AF9DD8705976A50E2B CALLER 0xDC CALLDATACOPY PUSH25 0x79F61997423022C864736F6C63430008070033000000000000 ", "sha1": "e1e3b9575a086ecef77ab0ef3a4b2e713f714691", "source": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.7;\n\nimport \"@openzeppelin/contracts/token/ERC721/IERC721.sol\";\nimport \"@openzeppelin/contracts/security/ReentrancyGuard.sol\";\nimport \"@openzeppelin/contracts/utils/Counters.sol\";\n\ncontract Marketplace is ReentrancyGuard {\n    using Counters for Counters.Counter;\n\n    address payable public immutable feeAccount; // account that recieves the fees\n    uint256 public immutable feePercent; // fee percentage on sales\n    Counters.Counter public itemCount;\n\n    struct Item {\n        uint256 itemId;\n        IERC721 nft;\n        uint256 tokenId;\n        uint256 price;\n        address payable seller;\n        address payable owner;\n        bool sold;\n    }\n\n    event MarketItemCreated(\n        uint256 itemId,\n        address indexed nft,\n        uint256 tokenId,\n        address indexed seller,\n        address indexed owner,\n        uint256 price\n    );\n\n    event MarketItemPurchased(\n        uint256 itemId,\n        address indexed nft,\n        uint256 tokenId,\n        address indexed seller,\n        address indexed owner,\n        uint256 price\n    );\n\n    // Tracks every token listed on the marketplace\n    mapping(uint256 => Item) public marketplaceItems;\n\n    constructor(uint256 _feePercent) {\n        feeAccount = payable(msg.sender);\n        feePercent = _feePercent;\n    }\n\n    /**\n     * @notice Create an item on the marketplace\n     */\n    function createItem(\n        IERC721 _nft,\n        uint256 _tokenId,\n        uint256 _price\n    ) external nonReentrant {\n        require(_price > 0, \"ERROR: Price must be greater than 0.\");\n\n        itemCount.increment();\n        uint256 currentItemCount = itemCount.current();\n\n        // Transfer the ownership of the NFT to the `Marketplace`\n        _nft.transferFrom(msg.sender, address(this), _tokenId);\n        // Updating our `marketplaceItems` mapping\n        marketplaceItems[currentItemCount] = Item(\n            currentItemCount,\n            _nft,\n            _tokenId,\n            _price,\n            payable(msg.sender),\n            payable(address(this)),\n            false\n        );\n        // Emit event\n        emit MarketItemCreated(\n            currentItemCount,\n            address(_nft),\n            _tokenId,\n            payable(msg.sender),\n            address(this),\n            _price\n        );\n    }\n\n    /**\n     * @notice Purchasing a token from the Marketplace\n     * @param _itemId ItemID of the marketplace item we're purchasing\n     */\n    function purchaseItem(uint256 _itemId) external payable nonReentrant {\n        uint256 _totalPrice = getTotalPrice(_itemId);\n        Item storage item = marketplaceItems[_itemId];\n\n        // Performing checks\n        require(\n            _itemId > 0 && _itemId <= itemCount.current(),\n            \"ERROR: Item does not exist.\"\n        );\n        require(\n            msg.value == _totalPrice,\n            \"ERROR: Not enough ether to cover the item price & market fee.\"\n        );\n        require(!item.sold, \"ERROR: Following item is already sold.\");\n\n        // Pay seller & fee account\n        item.seller.transfer(item.price);\n        feeAccount.transfer(_totalPrice - item.price);\n\n        // Update the item\n        item.sold = true;\n\n        // Transfer NFT to buyer\n        item.nft.transferFrom(address(this), msg.sender, item.tokenId);\n\n        emit MarketItemPurchased(\n            _itemId,\n            address(item.nft),\n            item.tokenId,\n            item.seller,\n            msg.sender,\n            item.price\n        );\n    }\n\n    /**\n     * @notice Getting the total price of purchasing an NFT [Price + Fee]\n     * @param _itemId Id of the item we're purchasing\n     */\n    function getTotalPrice(uint256 _itemId) public view returns (uint256) {\n        return (marketplaceItems[_itemId].price * (100 + feePercent)) / 100;\n    }\n\n    modifier onlyOwner() {\n        require(\n            msg.sender == feeAccount,\n            \"ERROR: Only deployer can mint tokens.\"\n        );\n        _;\n    }\n}\n", "sourceMap": "233:3766:12:-:0;;;1221:116;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1701:1:0;1806:7;:22;1285:10:12;1264:32;;;;1306:24;;233:3766;;14:184:14;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;-1:-1:-1;176:16:14;;14:184;-1:-1:-1;14:184:14:o;:::-;233:3766:12;;;;;;;;;;;;;;;;", "sourcePath": "contracts/Marketplace.sol", "type": "contract", "deployment": {"address": "0xBDC6F9CA4e1538A47FF542Cc708d7f274d7fCc94", "chainid": "1337", "blockHeight": 4}}